<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async await</title>
    
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <h1 class="text-center mt-5" style="color: brown;">Country Details</h1>
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div class="mt-5 d-flex justify-content-center align-item-center">
                    <input id="inputvalue" type="text" placeholder="country" class="form-control ">
                    <button class="ms-5 rounded btn btn-success" onclick="search()">search</button>
                    
                </div>
               <div class="car mt-5">
                    <div class="card"  id="result">
                       
               
            </div>
            <div class="col-md-4"></div>
        </div>
    </div>
    
</body>

<script>

    // function search(){
    //     console.log(inputvalue.value);
        
    // }

    const search=async()=>{
     console.log(inputvalue.value);
     if(inputvalue.value){
        const response=await fetch(`https://restcountries.com/v3.1/name/${inputvalue.value}?fullText=true`)
        console.log(response);
        response.json().then((data)=>{
            console.log(data[0]);
            // common
            const common = data[0].name.common
            console.log(common);
            // official
            const official = data[0].name.official
            console.log(official);
            // capitel
            const capital = data[0].capital
            console.log(capital);
            // borders
            const borders = data[0].borders
            console.log(borders);
            // area
            const area = data[0].area
            console.log(area);
            // google map
            const map = data[0].maps.googleMaps
            console.log(map);
            // population
            const population = data[0].population
            console.log(population);
            // timezone
            const timezones = data[0].timezones
            console.log(timezones);
            // continent
            const continents = data[0].continents
            console.log(continents);
            // flag
            const flag = data[0].flags.png
            console.log(flag);
            // // currency
            for(var cur in data[0].currencies ){
                var currencyname = data[0].currencies[cur].name
                var currencysymbol = data[0].currencies[cur].symbol
            }
            console.log(currencyname);
            console.log(currencysymbol);
            
            
            
            // language
            let language = data[0].languages
            let nationollanguage = []
            for(let lang in language){
                console.log(lang);
                nationollanguage.push(language[lang])
                
            }
            console.log(nationollanguage);


            result.innerHTML+=`
            <div class="card" style="width: 18rem;">
                        <img src="${flag}" class="card-img-top" alt="...">
                        <div class="card-body">
                          <h5 class="card-title text-center" style="color: rgb(33, 232, 7);">${official}</h5>
                          
                        </div>
                        <ul class="list-group list-group-flush">
                          <li class="list-group-item">common:${common}</li>
                          <li class="list-group-item">capitel:${capital}</li>
                          <li class="list-group-item">continents:${continents}</li>
                          <li class="list-group-item">area:${area}</li>
                          <li class="list-group-item">population:${population}</li>
                          <li class="list-group-item">borders:${borders}</li>
                          <li class="list-group-item">currency:${currencysymbol}-${currencyname}</li>
                          <li class="list-group-item">language:${nationollanguage}</li>
                          <li class="list-group-item">time zone:${timezones}</li>
                          <li class="list-group-item">map:${map}</li>
                          <li class="list-group-item">independent:${data[0].independent}</li>
                         
                        </ul>
                       
                      </div>
               </div>`

            
            

            
            
            
            
            
            
            
            
            
        })
        
     }
     else{
        alert(`please enter the country name`)
     }
     
    }
</script>
</html>